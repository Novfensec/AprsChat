<HomeScreenView>:
    MDNavigationLayout:
        MDScreenManager:
            MDScreen:
                MDStackLayout:
                    size_hint: 1, 1
                    padding: 3

                    MDBoxLayout:
                        adaptive_height: True
                        spacing: 7
                        padding: [5, 5, 5, 5]

                        CustomIconButton:
                            icon: "menu"
                            on_press:
                                nav_drawer.set_state("open")

                        MDLabel:
                            text: "APRS Chat"
                            font_style: "Title"
                            role: "medium"
                            valign: "center"
                            theme_text_color: "Custom"
                            text_color: app.theme_cls.onPrimaryContainerColor

                        MDBoxLayout:
                            adaptive_width: True
                            MDAnchorLayout:
                                anchor_x: 'right'
                                MDGridLayout:
                                    rows: 1
                                    adaptive_size: True
                                    spacing: 5

                                    CustomIconButton:
                                        icon: "cog"
                                        on_press:
                                            app.referrer("settings screen")

					MDBoxLayout:
						orientation: "vertical"
						ScrollView:
							always_overscroll: False
							HomeScreenContext:
                                id: HomeScreenContext
								orientation: 'vertical'
								padding: ["7dp", "7dp", "7dp", "7dp"]
								adaptive_height: True

								Widget:
									size_hint: 1, None

        MDNavigationDrawer:
            id: nav_drawer
            radius: [0, 15, 15, 0]
            orientation: "vertical"
            md_bg_color: app.theme_cls.surfaceContainerColor
            
            ContentNavigationDrawer:

            MDBoxLayout:
                adaptive_height: True
                MDAnchorLayout:
                    anchor_y: 'bottom'
                    anchor_x: "left"

                    MDButton:
                        style: "filled"
                        theme_bg_color: "Custom"
                        md_bg_color: app.theme_cls.primaryContainerColor
                        
                        MDButtonIcon:
                            icon: "copyright"
                            color: app.theme_cls.onPrimaryContainerColor
                        
                        MDButtonText:
                            text: "Novfensec Inc."
                            color: app.theme_cls.onPrimaryContainerColor

<CustomIconButton@MDIconButton>:
    icon: "blank"
    style: "tonal"
    theme_bg_color: "Custom"
    md_bg_color: app.theme_cls.secondaryContainerColor

<HomeScreenContext@MDBoxLayout>:
    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True

        ChatsGrid:
            id: ChatsGrid
